<!DOCTYPE html>
<!--
© Copyright 2012-2018 AJ Jordan
This file is part of strugee.net.
strugee.net is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
strugee.net is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.	See the
GNU Affero General Public License for more details.
You should have received a copy of the GNU Affero General Public License
along with strugee.net.	If not, see <http://www.gnu.org/licenses/>.

-->
<!-- Made and coded by AJ Jordan-->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width">
    <link rel="preload" href="https://members.internetdefenseleague.org/include/?url=&amp;campaign=&amp;variant=modal">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/main.css" title="Original gray">
    <link rel="author" href="/humans.txt"><!--[if gte IE 8]> <link rel="stylesheet" href="/css/ie9.css"> <![endif]-->
    <script src="/js/main.js" defer></script>
    <title>Posts from 2018 - strugee.net</title>
    <!-- TODO: apparently this technically isn't allowed to be relative but it seems to work fine, soooo...-->
    <link rel="alternate" type="application/rss+xml" href="index.rss">
    <!-- IndieWeb components, with <3-->
    <link rel="me" href="mailto:alex@strugee.net">
    <link rel="me" href="sms:17607054581">
    <link rel="me" href="xmpp:alex@strugee.net">
    <link rel="me" href="https://github.com/strugee">
    <link rel="me" href="https://twitter.com/strugee2">
    <link rel="me" href="https://plus.google.com/+AlexJordan">
    <link rel="me" href="https://pump.strugee.net/alex">
    <link rel="me" href="https://pod.strugee.net/people/82e1c9a030600133e0ca20474782d58c">
    <link rel="me" href="https://media.strugee.net/u/alex">
    <link rel="me" href="https://twitter.com/strugee2">
    <link rel="me" href="https://plus.google.com/+AlexJordan">
    <link rel="me" href="https://www.instagram.com/strugee2/">
    <link rel="authorization_endpoint" href="https://indieauth.com/auth">
  </head>
  <body>
    <div id="container">
      <header>
        <h1 id="topheader">strugee.net</h1>
        <nav id="navbar">
          <ul>
            <li class="navlink" id="navlabel">Nav &nbsp;::</li>
            <li class="navlink"><a href="/">Home</a></li>
            <li class="navlink"><a href="/services">Services</a></li>
            <li class="navlink"><a href="/projects/">Projects</a></li>
            <li class="navlink"><a href="/talks">Talks</a></li>
            <li class="navlink"><a href="/gpg">GPG Key</a></li>
            <li class="navlink"><a href="/contact">Contact</a></li>
            <li class="navlink"><a href="https://liberapay.com/strugee/">Tip me</a></li>
            <li class="navlink"><a href="/blog/">Blog</a></li>
          </ul>
        </nav>
      </header>
      <div id="content">
        <div class="h-feed">
          <h2 class="p-name">Posts from 2018</h2>
          <p id="postsFrom">Show only posts from <a href="/blog/2018/01/">January</a> <a href="/blog/2018/02/">February</a> <a href="/blog/2018/04/">April</a> <a href="/blog/2018/05/">May</a> <a href="/blog/2018/09/">September</a> 
          </p>
          <article class="h-entry" itemscope="itemscope" itemtype="http://schema.org/BlogPosting"><a href="/blog/2018/09/legacy">
              <h2 class="p-name">Legacy</h2></a>
            <p class="post-metadata">Published by <a class="p-author h-card" href="https://strugee.net/" rel="author">AJ Jordan</a> on 
              <time datetime="2018-09-09T23:01:49-04:00"><a href="/blog/2018/09/">September</a> 9, <a href="/blog/2018/">2018</a></time> in <a class="p-category" href="/blog/category/personal/">personal</a>. Last edited 
              <time datetime="2018-09-10T01:08:39.000-04:00">September 10, 2018</time>.
            </p>
            <div class="e-content"><!-- Written to a subset of the World of Goo soundtrack -->
<p>Recently I turned 20 years old. As the days continue to go by, I have been struggling with the concept of time.</p>
<p>Probably this feeling started with me seeing photos of this year's SAAS robotics teams. I was on the robotics team for four years (I've <a href="/blog/2014/12/new-blog-new-site">written about it a little before</a>) but recently I found that all of a sudden, I know barely anyone in the photos. Fifteen people in robotics graduated[1] high school last year, people I've largely known since they were freshmen (or in the case of <a href="https://jessewalling.com/">Jesse</a> and <a href="https://matthewkelsey.com/">Matt</a>, even longer). Some of them are very close friends. And I have found that the way I think about <a href="http://www.redshiftrobotics.org/">Redshift Robotics</a> has changed: I don't quite think of it as something I used to be a part of, at least not that simply. Instead I think of it as my legacy.</p>
<blockquote>
<p>legacy: <em>n.</em> something handed down from an ancestor or a predecessor or from the past</p>
</blockquote>
<p><cite>- from The American Heritage® Dictionary of the English Language, 4th Edition, via <a href="https://www.wordnik.com/words/legacy">Wordnik</a></cite></p>
<p>I don't belong there anymore. FIRST Tech Challenge has changed since I've left. They play a different game than I did, they run their GitHub differently than I envisioned when I set it up, they have different mentors and leadership than we did, and I'm sure they practice and compete differently than we did. That's okay. But it's weird. I know exactly what they're thinking because I thought it too, years and years ago - to them, I am a vague echo in someone else's past; an accumulation of events that has shaped what the club is today but that they would never be able to name. I'm someone they've vaguely heard of, maybe, but never really known. What happens next is all in their hands and there's nothing I can or want to do about it; I witnessed a former mentor of SAAS robotics turn the entire club around and that's history they'll never have seen, and maybe will never even know about. But whatever is happening there now is something <em>I'll</em> never see, either.</p>
<p>Pretty soon there will be no students left at SAAS I still know. Two more very close friends graduate this year. It'll only take a year or two more after that before the last student I know personally is gone.</p>
<blockquote>
<p>There are places I remember all my life</br>
Though some have changed<br/>
Some forever, not for better<br/>
Some have gone and some remain.<br/></p>
</blockquote>
<p><cite>- The Beatles, In My Life</cite></p>
<p>I think maybe as time goes on I'm getting better at watching people grow and change. I'm on year two of college and already I see it happening - last year a close group of friends and I were just freshmen, bright-eyed and bushy-tailed. This year one's an RA, two are First-year Fellows[2] and I'm a D'Lion[3]. The rest are living their lives in upper-class housing. As I was sitting in the dining hall earlier tonight I thought, how lucky we are that we even met last year. We're all scattered around now, generally in wildly different departments, and we're all focusing on different next steps. Most of us live in different buildings from all the others, and I can't help but wonder if we would all have met later. I think the answer is probably no. Causality is a strange thing to me; the circumstances that brought us together are dead and gone and yet the friendship lives on. Legacy.</p>
<p>I see the world changing too. There was a point in my life where it seemed like nothing big and cosmic would ever change; it seemed like the world would adjust itself only in small details. But at some point that stopped being the case, when I wasn't watching. <a href="https://www.jamesporter.me/">James Porter</a>, who's part of the faculty at the <a href="https://www.recurse.com/">Recurse Center</a>, once told me that whenever new batches came in he was always super sad to see so many people he'd made friends with leave to be replaced by strangers he didn't know yet. But, he said, he never quite noticed the point where people in-batch switched from strangers to friends. That feeling of not noticing is how I feel about the world right now. And it just boggles the mind that I'm at an age now where I can actually say yeah, I've seen those things change. I see people even just a year or two younger than me so much more attached to their phones; I say "back in the day" unironically when I talk about tech things.</p>
<p>The traffic in Seattle has gotten worse, almost unbearable compared to what it once was. We didn't used to hear about wildfires like we do now; the country and the planet are <em>burning</em>. And above all else, <a href="/blog/2016/12/where-were-headed-aka-im-worried">the country is angrier</a>. So much angrier.</p>
<blockquote>
<p>I turned 20 today. A question for people older and wiser than I: I feel incredibly weird to not be a "teenager" anymore, what the hell do I do???</p>
</blockquote>
<p><cite>- me, a couple days ago, on <a href="https://pump.strugee.net/alex/note/VRge4hnIQ1WM-Z1cJxwifA">pump.io</a> and on <a href="https://twitter.com/strugee2/status/1036789205245018112">Twitter</a></cite></p>
<p>Footnotes:</p>
<p>[1]: and we all know how I feel about <a href="/blog/2017/06/graduation-2017-reflections-on-365-days-of-gap-yearing">graduations</a>.</p>
<p>[2]: upper-class student at University of Rochester who lives with first-years and helps them with academic stuff (especially course registration)</p>
<p>[3]: like a First-year Fellow except instead of academic stuff, they help bring their hall together and make sure everyone's having a good time and making friends, etc.</p>

            </div>
          </article>
          <hr/>
          <article class="h-entry" itemscope="itemscope" itemtype="http://schema.org/BlogPosting"><a href="/blog/2018/05/going-to-indieweb-summit-2018">
              <h2 class="p-name">Going to IndieWeb Summit 2018</h2></a>
            <p class="post-metadata">Published by <a class="p-author h-card" href="https://strugee.net/" rel="author">AJ Jordan</a> on 
              <time datetime="2018-05-23T18:14:52-07:00"><a href="/blog/2018/05/">May</a> 23, <a href="/blog/2018/">2018</a></time> in <a class="p-category" href="/blog/category/personal/">personal</a>
            </p>
            <div class="e-content"><p>Once again, I'll be <data class="p-rsvp" value="yes">attending</data> the <a href="https://2018.indieweb.org/" class="u-in-reply-to">IndieWeb Summit</a> this year. Probably I'll work on <a href="https://github.com/strugee/lazymention">lazymention</a> and the <a href="https://github.com/strugee/strugee.github.com/tree/social-stream"><code>social-stream</code> branch</a> of this website. Maybe I'll work on <a href="https://stratic.js.org/">Stratic</a> too! I'm super excited.</p>

            </div>
          </article>
          <hr/>
          <article class="h-entry" itemscope="itemscope" itemtype="http://schema.org/BlogPosting"><a href="/blog/2018/05/pump.io-5.1.1-docker-images-and-node-4">
              <h2 class="p-name">pump.io 5.1.1, Docker images, and sunsetting Node 4 support</h2></a>
            <p class="post-metadata">Published by <a class="p-author h-card" href="https://strugee.net/" rel="author">AJ Jordan</a> and cross-posted from <a href="http://pump.io/blog/2018/05/pump.io-5.1.1-docker-images-and-node-4">here</a> on 
              <time datetime="2018-05-05T20:06:18-07:00"><a href="/blog/2018/05/">May</a> 5, <a href="/blog/2018/">2018</a></time> in <a class="p-category" href="/blog/category/pump.io/">pump.io</a>, <a class="p-category" href="/blog/category/releases/">releases</a> and <a class="p-category" href="/blog/category/development/">development</a>
            </p>
            <div class="e-content"><p>It's been a (relatively) long time since we've put anything on this blog, and I think it's high time for an update - especially since there are so many exciting things afoot! Not only is pump.io 5.1.1 now on npm, but we have new experimental Docker images! With <a href="https://medium.com/the-node-js-collection/april-2018-release-updates-from-the-node-js-project-71687e1f7742">upstream having already dropped security support</a>, we're also planning to drop support for Node 4 soon.</p>
<p>Let's take these one at a time.</p>
<h2>pump.io 5.1.1</h2>
<p>Several months ago I <a href="https://github.com/pump-io/pump.io/pull/1438">landed</a> a patch from contributor <a href="https://github.com/vxcamiloxv">Camilo QS</a> fixing a bug in pump.io's session handling in a route serving uploads. This bug made it so that non-public uploads would always return HTTP 403 Unauthorized, even if the user actually <em>was</em> authorized. Clearly, this makes uploads unusable for people who don't like to post everything publicly. <a href="https://identi.ca/evan">Evan</a> suggested that we should backport this bugfix since it's so high-impact, and I agree. So that's what pump.io 5.1.1 contains: a bugfix for uploads. Since it's a patch release 5.1.1 is a drop-in replacement for any 5.x pump.io release, so I'd highly encourage administrators to upgrade as soon as it's convenient. We'd also love it if you <a href="https://github.com/pump-io/pump.io/issues">file any bugs you find</a>, and feel free to get in touch with the <a href="https://github.com/pump-io/pump.io/wiki/Community">community</a> if you need help or have questions. As a reminder, you can subscribe to our <a href="https://lists.strugee.net/mailman/listinfo/pumpio-announce">low-volume announce mailing list</a> to get email when we put out new releases like this. Also, I would be remiss if I didn't mention that my signing key setup has changed temporarily - see <a href="/blog/2018/04/new-temporary-signing-keys">here</a> if you want to cryptographically verify the 5.1.1 release.</p>
<p>If you're on an npm-based install, you can upgrade with <code>npm install -g pump.io@5.1.1</code>. If you're on a source-based install, you can upgrade by integrating the latest commits in the <code>5.1.x</code> branch. See <a href="https://github.com/pump-io/pump.io/blob/master/CHANGELOG.md#511---2018-05-05">here</a> for the changelog.</p>
<p>But that's not all. pump.io 5.1.1 also includes another exciting change: with this release, we've integrated automation to relase pump.io Docker images too.</p>
<h2>Docker images</h2>
<p>We've wanted to release pump.io Docker images for <a href="https://github.com/pump-io/pump.io/issues/789">a long time</a>. But Docker has a well-known problem: security vulnerabilities in Docker Hub images <a href="https://www.infoq.com/news/2015/05/Docker-Image-Vulnerabilities">are</a> <a href="https://blog.acolyer.org/2017/04/03/a-study-of-security-vulnerabilities-on-docker-hub/">rampant</a>. Even though we've had a <code>Dockerfile</code> in the repository <a href="https://github.com/pump-io/pump.io/pull/1348">for a while</a> thanks to contributor <a href="https://github.com/JanKoppe">thunfisch</a>, we didn't want to release official Docker images if we weren't sure we could always provide security support for them.</p>
<p>Unfortunately, Docker the company has done very little to address this problem. Most of their solutions are aimed at image consumers, not authors. Docker Hub has <em>some</em> capacity for automatically rebuilding images, but unfortunately, it's not enough and you end up having to roll everything yourself anwyay. Pretty disappointing - so we had to get creative.</p>
<p>Our solution to this problem is to utilize Travis CI's <a href="https://docs.travis-ci.com/user/cron-jobs/">cron functionality</a>. Every day, Travis will automatically trigger jobs that do nothing but build pump.io Docker images. These images are then pushed to Docker Hub. If nothing has changed, Docker Hub recognizes that the "new" images are actually identical with what's already there, and nothing happens. But if there <em>has</em> been a change, like a native dependency receiving a security update, then the image ID will change and Docker Hub will accept the updated image. This cronjob is enabled for the <code>5.1.x</code> branch and master (which as a side effect, means that alpha Docker images are published within 24 hours of a git push), and in the future it will be enabled on all branches that we actively support. Thus, Docker users can easily set up automation to ensure that they're running insecure images for, at most, 24 hours.</p>
<p>If you're interested in trying out the Docker images, we'd love to know how it goes. They should still be treated as experimental at the moment, and early feedback would be super useful. You can read more details in our <a href="https://pumpio.readthedocs.io/en/latest/installation/about-docker-images.html">ReadTheDocs documentation</a>.</p>
<p>Note that there are still more changes that we'd like to make to the Docker images. These changes didn't make it into the 5.1.1 packaging since they felt too invasive for a patch release. Instead we plan to make them in the next release, which is planned to be semver-major. Which brings me neatly to the last topic...</p>
<h2>Sunsetting Node 4, 5, and 7 support</h2>
<p>We had a good run, but it's time to say goodbye: Node.js upstream has <a href="https://medium.com/the-node-js-collection/april-2018-release-updates-from-the-node-js-project-71687e1f7742">marked</a> Node 4.x as end-of-life, and in accordance with our <a href="https://github.com/pump-io/pump.io/wiki/Node.js-version-support">version policy</a>, we're doing the same. Since this is a semver-major change, we're also taking the opportunity to drop support for Node 5.x and Node 7.x. These changes have been made as of commit <a href="https://github.com/pump-io/pump.io/commit/32ad78812ed767621418b8dd57f11ce86a01b49f">32ad78</a>, and soon we'll be ripping out old code used to support these versions, as well as upgrading dependencies that have recently started requiring newer Nodes.</p>
<p>Anyone still on these versions is encouraged to upgrade as soon as possible, as Node.js upstream is no longer providing security support for them. Administrators can use the <a href="https://github.com/nodesource/distributions">NodeSource</a> packages, or they can try out our new Docker images, which use a modern Node version internally.</p>
<p>Please reach out to the <a href="https://github.com/pump-io/pump.io/wiki/Community">community</a> if you need any help making the transition. And good luck!</p>

            </div>
          </article>
          <hr/>
          <article class="h-entry" itemscope="itemscope" itemtype="http://schema.org/BlogPosting"><a href="/blog/2018/04/new-temporary-signing-keys">
              <h2 class="p-name">New temporary signing keys</h2></a>
            <p class="post-metadata">Published by <a class="p-author h-card" href="https://strugee.net/" rel="author">AJ Jordan</a> on 
              <time datetime="2018-04-17T23:01:33-04:00"><a href="/blog/2018/04/">April</a> 17, <a href="/blog/2018/">2018</a></time> in <a class="p-category" href="/blog/category/personal/">personal</a> and <a class="p-category" href="/blog/category/security/">security</a>
            </p>
            <div class="e-content"><p>So unfortunately, recently I have lost my Nitrokey, which I liked very much. In addition to this being fairly upsetting, I am now left with the sticky situation of not being able to sign code - while I have a master key (from which I can generate new subkeys), I'm currently at college and my copy of the key is sitting 3,000 miles away at home.</p>
<p>To get around this situation, I've generated a temporary signing keypair. This keypair is set to expire after 3 months (and I don't intend to renew it). When I have access to my master keypair, I will revoke the old subkeys, generate new subkeys (it was probably time, anyway) and revoke the temporary keypair.</p>
<p>The new fingerprint is <code>D825FD54D9B940FF0FFFB31AA4FDB7BE12F63EC3</code>. I have uploaded the key to <a href="https://github.com/strugee.gpg">GitHub</a> as well as the Ubuntu keyserver and <code>keys.gnupg.net</code> (just as my original was). The key is also incorporated into my Keybase account so that you can bootstrap trust in it, if you want to verify software signatures or whatever.</p>

            </div>
          </article>
          <hr/>
          <article class="h-entry" itemscope="itemscope" itemtype="http://schema.org/BlogPosting"><a href="/blog/2018/02/how-dns-works">
              <h2 class="p-name">How to evaluate domain registrars: a DNS story</h2></a>
            <p class="post-metadata">Published by <a class="p-author h-card" href="https://strugee.net/" rel="author">AJ Jordan</a> on 
              <time datetime="2018-02-01T00:00:42-04:00"><a href="/blog/2018/02/">February</a> 1, <a href="/blog/2018/">2018</a></time> in <a class="p-category" href="/blog/category/explanations/">explanations</a>
            </p>
            <div class="e-content"><blockquote>
<p><em>Adriel</em>: Any recommendations of where I should buy domain names from?</p>
<p><em>Me</em>: I've heard gandi.net is good and they support free software projects and organizations - I'm on Namecheap at the moment but it's janky and sometimes unreliable, and basically the only reason I'm still with them is inertia</p>
<p><em>Adriel</em>: What makes the difference? Why does it matter where it comes from? I guess a better question is, what am I actually buying when I buy a domain?</p>
<p><em>Narrator</em>: DNS is fraught with peril and complexity, and many hours would go by before Adriel got his answer...</p>
</blockquote>
<p>This is a cleaned-up version of an explanation of how the DNS works and what owning a domain name really means. The original was much worse, because I typed it on my phone into a WhatsApp group chat and didn't edit at all. But you, dear reader, get the new-and-improved version! I'll start with <a href="https://github.com/aarsenault">Adriel</a>'s original question - why does it matter where my domain name comes from - and then transition into talking about how the DNS works and how the domain registar plays into that picture.</p>
<p>Here is, in my <em>highly</em>-opinionated opinion, the golden rule of registrar shopping - the #1 thing you have to know: <em>all registrars are sketchy. Therefore you are looking for the least terrible option.</em></p>
<p>Once you understand this, you're looking at four things registrars have to provide:</p>
<ol>
<li>DNS services</li>
<li>Whois data</li>
<li>The web UI for managing everything</li>
<li>Support</li>
</ol>
<p>These are the most important, but depending on your usecase you might also want to examine value-add services registrars provide. Most registrars will also host your email and provide shared hosting, or sometimes a virtual private server, or VPS. A VPS is a box where you get root and can do whatever you want, including hosting a web server (but you have to do it yourself); shared hosting is where you get a managed web server installation that's shared (get it?) with other people. You get write access to a particular
directory on the box that the web server is configured to serve from. (Registrars often also provide TLS/HTTPS certificates, but now that <a href="https://letsencrypt.org/">Let's Encrypt</a> exists, why you'd pay for one unless you need an <a href="https://en.wikipedia.org/wiki/Extended_Validation_Certificate">EV cert</a> is beyond me.)</p>
<p>The third and fourth responsibilities are pretty easy to understand. Is the web UI butt-ugly or buggy, and is the support staff friendly and responsive. So I want to focus on the first responsibility, DNS, because that can be super confusing (I don't really understand the second, Whois, and anyway this post is long enough already). Here's the tl;dr: the registrar provides the servers that are responsible for answering DNS queries. Even if you use a third-party provider your registrar is involved, because they have to serve <code>NS</code> records that basically say "hey look over at this other provider for the REAL records."</p>
<p>Let's break down exactly what that means. Before I start I should note that if you've ever heard people say something along the lines of, "it'll take up to 24 hours for DNS to propogate," you should forget that. It's a convenient lie that people (including myself sometimes!) use to explain DNS' caching behavior more easily.</p>
<p>DNS works by recursively resolving each component in a domain name. It's probably easiest to demonstrate how this works by walking through the steps clients like browsers take when they're trying to resolve a domain name into a numeric IP address. So say we're trying to resolve <code>example.com</code>, with no help from anybody else.</p>
<p>Our first step is to look up the authoritative nameservers for the <code>com</code> component. In other words, we're looking up the servers that have the absolute final word as to what DNS records <code>com</code> has. (More on exactly how this first step works later.) Once we've found the <code>com</code> nameservers, we issue a DNS query asking them where we can find the nameservers for <code>example.com</code>. The answer we get back will point to <code>example.com</code>'s registrar. Always. Even if they're using a different DNS service - the registar just points to the other service with <code>NS</code> records.</p>
<p>Let's pause in our journey to resolve <code>example.com</code> for a second to consider the implications of this. This means that the registrar is <strong>always</strong> involved in DNS lookups for a domain, which is important for two reasons:</p>
<ol>
<li>If the registrar's DNS goes down so does your website</li>
<li>If you want to use DNSSEC on your domain (which of course I have Opinions™ on but whatever) your registrar has to support it, because the way DNSSEC works is that EVERY link in the lookup chain MUST be signed, or the entire chain of trust falls apart[1]</li>
</ol>
<p>Just things to bear in mind.</p>
<p>Anyway, we're almost done resolving <code>example.com</code>. We've found its nameserver, so all we have to do is issue our original query. Maybe we need an IPv4 address, in which case we'd ask the nameserver for all <code>A</code> records for <code>example.com</code>; maybe we want IPv6 addresses instead in which case we'd ask for <code>AAAA</code> records. (If you want to know more about DNS record types, <a href="https://en.wikipedia.org/wiki/List_of_DNS_record_types">Wikipedia has a nice list</a>!) If the registrar is the authoritative nameserver for <code>example.com</code> it'll respond normally, if <code>example.com</code> uses a 3rd-party DNS host, the registrar will respond with <code>NS</code> records. In the former case, we've gotten the data we originally set out to get; in the latter, we simply issue our query again to the nameserver the registrar pointed us at - which we now know to be authoritative - and if all goes well, we'll get a regular response and be done. As a reminder, the "authoritative nameserver" for a given domain is whatever nameserver contains the authoritative data <strong>for that domain</strong>. So we say e.g. "such-and-such a registrar's nameservers are <em>authoritative for</em> <code>example.com</code>." For <code>example.net</code> the authoritative nameservers could be completely different.</p>
<p>The overarching goal of the recursive resolution procedure I just laid out is simply to find that veeery last nameserver in the chain which can speak authoritatively for the domain we're interested in. Your registar's job, as far as DNS is concerned, is to put the domain in the nameservers for the top-level domain (or TLD - <code>com</code> in <code>example.com</code>'s case) and to either serve regular DNS records or point recursive DNS resolvers at the authoritative nameserver that will. There's also some other paperwork involved I think, but I wouldn't know much about that.</p>
<p>As an aside, I should note that normally, your computer doesn't do all this recursive stuff. There will be some DNS server upstream - perhaps running on your router or run by your ISP - that does it for you. This is to alleviate your computer from having to know how to do this and also because it makes stuff like caching work better. Speaking of caching, let's talk about the <em>real</em> explanation behind the admittedly super-convenient "24 hour propogation" lie. Now that we know how DNS resolution works the idea of "DNS propogation" is pretty simple to understand - it comes from caching. All that recursion stuff is expensive in terms of time (and nameserver load), so we want to avoid doing it whenever possible by generating responses from a local cache. This is accomplished by a Time To Live (TTL) associated with every DNS record response. The TTL basically says how long the record is valid for, and therefore how long it can be cached. When you change your DNS records and wait for it to "propogate", really you're just waiting for caches to expire. That means, though, that if you plan ahead you can lower your TTL to a few seconds, wait until everybody's cache expires (so everyone sees the new TTL), and then make your change[2]. This would lower downtime to a minimum. To be polite you'd then raise your TTL again. If you want to know more about this, <a href="https://serverfault.com/a/125378/167999">here</a> is an excellent Server Fault question that rehashes this explanation and then describes an exponential backoff strategy you might use to make such a change as efficiently as possible.</p>
<p>And with that, we've covered most of what you need to know about how DNS works, except for one thing - that mysterious first step. How did we get the nameservers for <code>com</code>?</p>
<p>The answer is the <a href="https://en.wikipedia.org/wiki/Root_name_server">DNS root</a>. The DNS root servers are at the absolute top of the DNS hierarchy, and they're responsible for resolving TLDs. In fact, if I was to nitpick, I'd point out that I lied earlier when I said we were trying to resolve <code>example.com</code>. In reality, we're trying to resolve <code>example.com.</code> (note the trailing <code>.</code>). If we read this new domain name, which is now <em>fully qualified</em>, from right-to-left, we get the chain we used to lookup the final authoritative nameserver. It goes: empty string, indicating the root "zone" (to use DNS parlance) -> <code>com</code> -> <code>example</code>. DNS is technically distributed but organizationally highly centralized around the DNS root, and trust in the DNS root, and people who don't like that tend to run alternative DNS roots (your friendly author is sympathetic to this position). But that's a story for another time.</p>
<p>Hopefully you now have a much better idea of how the DNS works and why your registrar has to be involved in it. I'm 95% sure this post is accurate, but I could always be wrong so if you spot a mistake, please feel free to contact me either by <a href="/contact">the usual ways</a> or by Zulip if you're a Recurser. Good luck!</p>
<p>Footnotes:</p>
<p> [1]: FWIW this is how Namecheap screwed up my domain - I turned on their DNSSEC option, but they had messed up their signing so that suddenly any resolver which validated DNSSEC would reject the legitimate responses as invalid. This was made extremely difficult to debug by the fact that you don't really know if a resolver is doing this for you, and often if DNSSEC validation fails that failure won't be passed directly on to the client (the client instead will get <code>NXDOMAIN</code> or something, which is basically the DNS way of saying "there's nothing there"). So resolution would fail on half the networks I tested from, with no clear difference. To make matters worse, when I went to turn of Namecheap's DNSSEC support because my website was down for a basically semi-random sampling of my visitors, the change didn't actually propogate to production! Like, I flipped the switch in the admin panel and it literally did <em>nothing</em>. So I had to escalate a support ticket to get them to purge all the DNSSEC stuff from production. Kinda ridiculous!</p>
<p> [2]: do note, however, that <a href="https://serverfault.com/a/740637/167999">people sometimes don't follow the standard</a> and set a lower bound (i.e. minimum) on TTLs. So if you make a change make sure stuff running on your old IP address won't wreak havoc if it gets production traffic.</p>

            </div>
          </article>
          <hr/>
          <div id="pages-footer">
            <p><span class="disabled-arrow">←</span> ⋅ Page 1 out of 2 ⋅ <a href="page/2/">→</a></p>
          </div>
        </div>
      </div>
      <footer>
        <p>You may find the source code for this website, licensed to you under the GNU Affero GPL, <a rel="license" href="https://github.com/strugee/strugee.github.com">on GitHub</a>. English copy is additionally licensed under <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons BY-SA 4.0</a>.</p>
        <p>&copy; Copyright 2012-2019 AJ Jordan.</p>
      </footer>
      <div id="toys" data-turbolinks-permanent><a id="monospace-icon" href="javascript:void(0);" aria-label="Tilde button to enable monospace-style webpage display" title="Inspired by a forgotten-by-me tilde.club member who (~droob?) was &quot;making [their] life&quot; monospace.">~</a><a id="lightbulb-icon" href="javascript:void(0);" aria-label="Lightbulb button to enable dark webpage display">
          <div class="icon-lightbulb"></div></a></div>
      <script data-turbolinks-eval="false">
        window._idl = {};
        _idl.variant = "modal";
        (function() {
        	var idl = document.createElement('script');
        	idl.async = true;
        	idl.src = 'https://members.internetdefenseleague.org/include/?url=' + (_idl.url || '') + '&campaign=' + (_idl.campaign || '') + '&variant=' + (_idl.variant || 'modal');
        	document.getElementsByTagName('body')[0].appendChild(idl);
        })();
      </script>
    </div>
  </body>
</html>